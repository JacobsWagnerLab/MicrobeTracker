<html>
<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<!-- Start replacement block 1 -->
<title>MicrobeTracker Tools</title>
</head>

<body link="#000000" vlink="#808080" alink="#808080">

<p><b><font face="Courier">
<!-- End replacement block 1 -->
cellmovie
<!-- Start replacement block 2 -->
</font></b></p>
<!-- End replacement block 2 -->

<p>Syntax:</p>
<p><font face="Courier">cellmovie(cellList,images,cell)</font></p>
<p><font face="Courier">cellmovie(cellList,images,cell,firstfilename,...)</font></p>
<p><font face="Courier">cellmovie(cellList,images,cell,fieldname,...)</font></p>
<p><font face="Courier">cellmovie(cellList,images,cell,'circle',...)</font></p>
<p><font face="Courier">cellmovie(cellList,images,cell,'disk',...)</font></p>
<p><font face="Courier">cellmovie(cellList,images,cell,...,parametername,parametervalue,...)</font></p>

<p>This function displays or saves a movie or a series of images of one cell
through a range of frames in a timelapse series of images.</p>

<ul>
  <li>
  &lt;cellList&gt; is an array that contains the meshes and spots. This
  function can use either a cellList array generated by the
  <a href="helpSpotFinder.htm">SpotFinderZ</a>,
  <a href="helpSpotFinderM.htm">SpotFinderM</a> and
  <a href="helppeakfinder.htm">peakfinder</a> functions, or a spotList array
  generated by the <a href="helpSpotFinderF.htm">SpotFinderF</a> function. You
  can drag-and-drop the file with the data into MATLAB workspace or open it
  using the MATLAB Import Tool.</li>
  <li>
  &lt;images&gt; - a 3D array of images. It can be obtained using
  <a href="helploadimageseries.htm"> loadimageseries</a> and
  <a href="helploadimagestack.htm"> loadimagestack</a> commands, e.g.:
  <font face="Courier">images=loadimageseries('c:\users\test\imagefiles',1).</font></li>
  <li>
  &lt;cell&gt; - the cell number of the cell to display.</font></li>
  <li>
  &lt;firstfilename&gt; - the name of the first file which will be saved. If
  left empty (default), no file will be saved and the images will be only
  displayed on the screen. Otherwise the name will be taken, and if it ends with
  a number, the number will be incremented according to the number of the image
  displayed. If it does not end with a number, it will be appended
  automatically. The file name must end with .avi, .jpg, .eps, or .tif extension
  to specify the format of the file.</li>
  <li>
  &lt;fieldnames&gt; - names of the fields containing spots, must start with
  'spots', e.g. 'spots', 'spots1', 'spots2', etc. Several fields can be listed.
  Default: 'spots'. To not display spots, put a non-existent field name, e.g.
  'spotsx'.</li>
  <li>
  'disk' - display spots as filled disks rather than dots. The radius in this
  case is measured in image pixels, not screen points.</li>
  <li>
  'circle' - display spots as circles rather than dots. The radius in this
  case is measured in image pixels, not screen points.</li>
</ul>
<p>The rest of the parameters must be submitted in the format
&lt;parametername&gt;,&lt;parametervalue&gt;, where &lt;parametername&gt; must
be in quotes and &lt;parametervalue&gt; must be the value of this parameter. For
example: cellmovie(cellList,images,cell,'resolution',300). Here are the
possible parameters:</p>
<ul>
  <li>
  'resolution' - image resolution in dots per inch, default 150.</li>
  <li>
  'magnification' - image magnification factor, default 5.</li>
  <li>
  'barlength' - length of a scale bar added, default 0 (no bar).</li>
  <li>
  'barpos' - position of the scalebar added from bottom left (set
  negative to go from top or right), default [2 2].</li>
  <li>
  'barwidth' - width of the scalebar added, default 2.</li>
  <li>
  'timestamp' - should the timestamp be added, default false.</li>
  <li>
  'timeinterval' - length of the time interval for the timestamp, default 1.</li>
  <li>
  'timestamppos' - position of the timestamp, default [] (program picks).</li>
  <li>
  'timestampfont' - font of the timestamp, default 14.</li>
  <li>
  'align' - should alignment to the center of mass be done, default true.</li>
  <li>
  'border' - border left around the cell, default 20.</li>
  <li>
  'markersize' - spots marker size, 0 - don't show, default automatic.</li>
  <li>
  'imagelimits' - image scaling limits, default max to min.</li>
  <li>
  'frange' - range (list) of frames to output, default all frames.</li>
  <li>
  'colortable' - table nx3 of colors each line being RGB of the
  particular field; if n># fields, last line represents the color of merged spots.</li>
  <li>
  'infocolor' - color of the timestamp and scalebar.</li>
</ul>

<p><a name="examples"></a><b><font size="4">Examples</font></b><p>

<p>Simplest mode: display a movie of cell 5 through all frames not saving
anything:<p>

<p><font face="Courier" color=#0000AA>&nbsp;&nbsp;&nbsp;cellmovie(cellList, images, 5)</font></p>

<p>Display the same cell on frames from 1 to 30:<p>

<p><font face="Courier" color=#0000AA>&nbsp;&nbsp;&nbsp;cellmovie(cellList, images, 5, 'frange', 1:30)</font></p>

<p>Display the same cell changing the default border to zero:<p>

<p><font face="Courier" color=#0000AA>&nbsp;&nbsp;&nbsp;cellmovie(cellList, images, 5, 'border', 0)</font></p>

<p>Save the movie of this cell as a series of jpeg files out1.jpg, out2.jpg, out3.jpg, etc.:<p>

<p><font face="Courier" color=#0000AA>&nbsp;&nbsp;&nbsp;cellmovie(cellList, images, 5, 'out.jpg')</font></p>

<p>Display the same cell with a timestamp (assuming the frame rate 1 unit s/frame)
and a scalebar (1 um long assuming 1 pixel=0.0642 um):<p>

<p><font face="Courier" color=#0000AA>&nbsp;&nbsp;&nbsp;cellmovie(cellList,
images, 5, 'barlength', 1/0.0642, 'timestamp', true)</font></p>

<p>Combination of many parameters: save a series of jpeg images for frames 1-30
displaying a scalebar and a timestamp in yellow color, changing the position of
the timestamp and not displaying spots:<p>

<p><font face="Courier" color=#0000AA>&nbsp;&nbsp;&nbsp;cellmovie(cellList,
images, 5, 'frange', 1:30, 'border', 0, 'out.jpg', 'barlength', 1/0.0642,
'timestamp',true,'timestamppos',[16 -0.1],'infocolor',[1 1 0],'circle','spotsx')
</font></p>

<!-- Start replacement block 3 -->
<br>
<p>Top pages: <b> <a href="helpTools.htm">
MicrobeTracker Tools</a>, <a href="../help.htm">
MicrobeTracker Suite</a>.</b></p>
<!-- End replacement block 3 -->
</body>
</html>